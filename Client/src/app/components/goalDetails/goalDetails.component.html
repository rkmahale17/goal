<app-loader [id]="'goalDetails'"></app-loader>
<div class="max__goalDetails" *ngIf="goalDetails">
  <goal-header
    [label]="'Goal'"
    [goalTitle]="goalDetails.title"
    *ngIf="goalDetails && goalDetails.title"
    (edit)="isEditMode = !isEditMode"
    (delete)="deleteGoal()"
  >
  </goal-header>
  <div class="p-4 b-l" *ngIf="!isEditMode">
    <div>
      <div class="tc-gl">Description</div>
      <div class="">
        {{ goalDetails.description }}
      </div>
    </div>
    <div class="mt-3">
      <div class="tc-gl">Timeline</div>
      <div class="d-flex mt-2">
        <div class="tc-gl heading-4">Start Date</div>
        <div class="ml-2">
          {{ goalDetails.startDate | date: "dd/MM/yyyy" }}
        </div>
      </div>
      <div class="d-flex mt-2">
        <div class="tc-gl heading-4">End Date</div>
        <div class="ml-2">
          {{ goalDetails.endDate | date: "dd/MM/yyyy" }}
        </div>
      </div>
    </div>

    <div class="mt-3">
      <label for="" class="tc-gl"> Phase</label>
      <div
        *ngIf="
          phaseDetails && phaseDetails.phases && phaseDetails.phases.length
        "
      >
        <div class="phases" *ngFor="let item of phaseDetails.phases">
          <div class="home_goals">
            <div
              *ngFor="let item of phaseDetails.phases"
              class="div-shadow b1 bc-p p-3 br-10 cusor-pointer goal_card"
            >
              <section class="heading-3 tc-p t f-wr px-1">
                {{ item.title }}
              </section>
              <section class="heading-4 f-l pt-3 px-2">
                {{ item.description }}
              </section>
              <section class="d-flex px-2 pt-2">
                <div class="tc-gl heading-4">Start Date</div>
                <div class="pl-2 heading-4 f-wm">
                  {{ item.startDate | date: "dd/MM/yyyy" }}
                </div>
              </section>
              <section class="d-flex px-2 pt-1">
                <div class="heading-4">End Date</div>
                <div class="pl-2 heading-4 f-wm">
                  {{ item.endDate | date: "dd/MM/yyyy" }}
                </div>
              </section>
              <div class="float-right pt-2 pr-2">
                <button class="btn-sr b-p heading-4">Edit</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="isEditMode">
   <app-create-goals [isEditMode]="true" [goalId]="goalId" >
   </app-create-goals>
  </div>
</div>
